<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>臨床試驗管理系統 v2.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .shake { animation: shake 0.5s; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-blue-50">
    <div id="app"></div>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // 安全配置
        const SECURITY_CONFIG = {
            ACCESS_PASSWORD: 'clinical2026',  // 訪問密碼（可以改成任何你想要的）
            ADMIN_USERNAME: 'admin',          // 管理員帳號
            ADMIN_PASSWORD: 'admin123',       // 管理員密碼
            ENCRYPTION_KEY: 'clinical-trials-secret-key-2026' // 加密金鑰
        };

        // 加密函數
        const encryptData = (data) => {
            try {
                return CryptoJS.AES.encrypt(JSON.stringify(data), SECURITY_CONFIG.ENCRYPTION_KEY).toString();
            } catch (error) {
                console.error('加密失敗:', error);
                return null;
            }
        };

        // 解密函數
        const decryptData = (encryptedData) => {
            try {
                const bytes = CryptoJS.AES.decrypt(encryptedData, SECURITY_CONFIG.ENCRYPTION_KEY);
                const decryptedString = bytes.toString(CryptoJS.enc.Utf8);
                return JSON.parse(decryptedString);
            } catch (error) {
                console.error('解密失敗:', error);
                return null;
            }
        };

        // SVG Icons
        const SearchIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>;
        const FilterIcon = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" /></svg>;
        const LoginIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" /></svg>;
        const LogoutIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" /></svg>;
        const EditIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>;
        const PlusIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" /></svg>;
        const TrashIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>;
        const SaveIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" /></svg>;
        const XIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>;
        const CheckCircleIcon = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>;
        const XCircleIcon = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>;
        const AlertCircleIcon = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>;
        const DownloadIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>;
        const FileTextIcon = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>;
        const LockIcon = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>;
        const ShieldIcon = () => <svg className="w-20 h-20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>;

        // 初始數據（已匿名化）
        const initialTrials = [
  {
    "id": 1,
    "cancerType": "肝癌",
    "line": "二、三線",
    "studyTitle": "一項第II期、多中心、開放性試驗，在患有晚期/轉移性實體腫瘤的參與者中評估DB-1311併用BNT327或DB-1305",
    "code": "DB1311-201",
    "phase": "I",
    "sponsor": "",
    "targetNum": 6,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "楊慕華",
    "nurse": "Abby",
    "phone": "82935/82999",
    "status": "進行中",
    "inclusion": "Part I: 1.復發轉移後一或二線失敗的病人 2.Child-Pugh class A 3.HBsAg(+)可以收,HBV DNA< 500 IU/mL",
    "exclusion": ""
  },
  {
    "id": 2,
    "cancerType": "胃癌",
    "line": "Adjuvant",
    "studyTitle": "胃癌術後第二, 三A, 三B 期患者接受S-1 (三週處方) 術後輔助性治療之觀察性試驗",
    "code": "TTY",
    "phase": "4",
    "sponsor": "TTY",
    "targetNum": 150,
    "enrolled": 16,
    "monthSigned": 1,
    "monthEnrolled": 1,
    "pi": "洪逸平",
    "nurse": "宋秀薇",
    "phone": "2935/2999",
    "status": "進行中",
    "inclusion": "胃癌術後使用健保S-1 病患",
    "exclusion": ""
  },
  {
    "id": 3,
    "cancerType": "胃癌",
    "line": "Adjuvant",
    "studyTitle": "一項在 HER2 表現胃癌患者評估治療性癌症疫苗 (AST-301, pNGVL3-hICD) 安全性及免疫療效的第二期試驗 (CORNERSTONE-003)",
    "code": "PN-301-22",
    "phase": "2",
    "sponsor": "諾佛葛",
    "targetNum": 6,
    "enrolled": 5,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "賴姵妤",
    "phone": "0919801912",
    "status": "進行中",
    "inclusion": "1.胃癌術後D2、R0、STAGE 2、3 ，並使用過預防性化療後完全沒有腫瘤復發的病人。2.必須用完最後一次預防性化療後，間隔兩周並在八周內接受第一次AST-301治療。3.HbsAg (+)可收，但需 HBV DNA is undetectable。",
    "exclusion": ""
  },
  {
    "id": 4,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "一項隨機分配、第 III 期試驗，評估 Rilvegostomig 併用Fluoropyrimidine 和 Trastuzumab Deruxtecan 相較於Trastuzumab、化療和 Pembrolizumab 作為 HER2 陽性胃癌第一線治療的效果 (ARTEMIDE-Gastric01)",
    "code": "D702AC00001",
    "phase": "III",
    "sponsor": "AZ",
    "targetNum": 5,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1. HER2 (+)需在送國外驗Her-2 ,Slide*15片(14天出報告) 2. 體重 >= 35 KG 3. Measurable lesion by RECIST 1.1 4.ECOG 0-1 5. 可收B肝.治療後的C肝 病毒量驗不到 6.僅收一線病人 7. CCr>=60, CPS > 1",
    "exclusion": ""
  },
  {
    "id": 5,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "一項第 2 期隨機分配試驗，針對局部晚期無法切除或轉移性胃腺癌、胃食道交界處腺癌或食道腺癌患者，評估 ABBV-400 合併 Fluorouracil、Leucovorin 和 Budigalimab 作為第一線治療的安全性、療效和最佳劑量 (AndroMETa-GEA-977)",
    "code": "M24-977",
    "phase": "II",
    "sponsor": "ABBVIE",
    "targetNum": 10,
    "enrolled": 10,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉",
    "phone": "0927751328",
    "status": "暫停收案",
    "inclusion": "1.HER2(-) 2.C肝不收 3.Slide*15 (4-5u) ,C1D1前需寄出 4.可收B肝,病毒量需小於500 IU/mL 5.需有Target Lesion (Recist 1.1) 6.ILD or Pneumonitis 病史不能收 7.全肺切除者不能收 8.C1D1前不能使用抗生素",
    "exclusion": "C肝, ILD或Pneumonitis病史, 全肺切除者"
  },
  {
    "id": 6,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "一項評估AB598單一療法與併用療法對晚期惡性腫瘤參與者之安全性及耐受性的第1/1b期試驗",
    "code": "ARC-25",
    "phase": "1b",
    "sponsor": "NOVOTECH",
    "targetNum": 6,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉",
    "phone": "0927751328",
    "status": "名額已滿",
    "inclusion": "1.HER2(-) 2.禁用藥(CD39) 3.Slide*15 (4-5u) ,C1D1前需寄到美國 4.可收B肝,病毒量需小於2000 IU/mL 可收C肝,病毒量需小於15 IU/mL 5.需有Target Lesion (Recist 1.1)",
    "exclusion": "使用CD39禁用藥"
  },
  {
    "id": 7,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "多中心、一項第 1b/2 期開放性、劑量遞增和劑量延伸試驗，評估Trastuzumab Deruxtecan (T-Dxd) 單一療法與併用療法對於帶有 HER2 表現胃癌成人受試者的安全性、耐受性、藥物動力學、免疫原性和抗腫瘤活性 (DESTINY-Gastric03)",
    "code": "D967LC0001",
    "phase": "1b/2",
    "sponsor": "AZ",
    "targetNum": 3,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "周淑慧",
    "phone": "82935/82999",
    "status": "暫停收案",
    "inclusion": "目前 4A,4B cohort已滿,暫停收案。1. 僅收一線病人 2. HER2 low ( IHC 1+ / IHC 2+ with FISH-negative ) --> Arm 4B 用藥: T-Dxd + capecitabine + rilvegostomig 3. HER2 high ( IHC 3+ ) IHC 2+ with FISH-positive ) --> Arm 4A 4. HBsAg(-) , anti-HBc(+) --> B肝不能收 5. HCV(+), 但HCV RNA必須(-) 6. At least one measurable lesion",
    "exclusion": "B肝"
  },
  {
    "id": 8,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "Zolbetuximab 合併 Pembrolizumab 和化療（CAPOX 或mFOLFOX6），用於罹患局部晚期無法切除或轉移性胃或胃食道交界腺癌，腫瘤為 HER2 陰性、Claudin (CLDN) 18.2 陽性且計畫性凋亡配體-1 (PD-L1) 陽性的參與者之第一線治療的一項第 3 期、雙盲、隨機分配試驗",
    "code": "8951-CL-0305",
    "phase": "III",
    "sponsor": "Astellas",
    "targetNum": 2,
    "enrolled": 0,
    "monthSigned": 2,
    "monthEnrolled": 0,
    "pi": "洪逸平",
    "nurse": "賴姵妤, 宋秀薇",
    "phone": "82935/82999",
    "status": "進行中",
    "inclusion": "1. Histologically confirmed gastric or GEJ adenocarcinoma 2. HER2-negative,(可以院內驗) 3. CLDN18.2 陽性和 PD-L1 陽性,CPS>=1 (central 驗) 4. HBsAg(-) ; HCV(-) ; CCr >=30 5. Slide片*9 ( 4-5u),10個工作天發報告 6. At least one measurable lesion",
    "exclusion": "HBsAg(+), HCV(+)"
  },
  {
    "id": 9,
    "cancerType": "胃癌",
    "line": "一線",
    "studyTitle": "評估 Trastuzumab Deruxtecan (Enhertu®) 併用化療（加或不加Pembrolizumab）相較於化療併用 Trastuzumab（加或不加Pembrolizumab）作為不可切除、局部晚期或轉移性 HER2-陽性胃癌或胃食道接合處 (GEJ) 癌受試者第一線治療的一項多中心、隨機分配、開放標記、第 III 期試驗 (DESTINY-Gastric05)",
    "code": "DS8201-724",
    "phase": "III",
    "sponsor": "第一三共",
    "targetNum": 7,
    "enrolled": 0,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "宋秀薇, 賴姵妤",
    "phone": "82935/82999",
    "status": "進行中",
    "inclusion": "1. 必須可以吞Xeloda 2. HER2-postive (IHC 3+ / IHC 2+ with FISH-postive) 3. LVEF >=50 % , CCr >=60 4. HBsAg(+) ,HBV DNA<2000 5. HCV(+), 但HCV RNA必須(-) 6. At least one measurable lesion 7. Slide片*16 ( 4-5u),10個工作天發報告",
    "exclusion": ""
  },
  {
    "id": 10,
    "cancerType": "胃癌",
    "line": "二線",
    "studyTitle": "HERTHENA-PanTumor01 (U31402-277)：一項第 2 期、多中心、多群組、開放標記、概念驗證試驗，探討 Patritumab Deruxtecan (HER3-DXd; U3-1402) 運用於局部晚期或轉移性固體腫瘤的受試者",
    "code": "U31402-277",
    "phase": "II",
    "sponsor": "第一三共",
    "targetNum": 10,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "楊慕華",
    "nurse": "邱琳琳",
    "phone": "0976107317",
    "status": "進行中",
    "inclusion": "1.HER 2 (-) 2.需要PD後的切片(8片) 3.第一線的化療要以 5-FU-based 4.HbsAg(+)可以收,DNA<2000 IU/mL",
    "exclusion": ""
  },
  {
    "id": 11,
    "cancerType": "胃癌",
    "line": "二線",
    "studyTitle": "使用Ramucirumab (Cyramza)、nal-IRI (Onivyde) 和Trifluridine /Tipiracil (Lonsurf) 作為二線治療，用於轉移性胃癌的第 Ib期和第II 期臨床試驗（COOL臨床試驗）",
    "code": "T1223",
    "phase": "Ib/II",
    "sponsor": "IIT",
    "targetNum": 25,
    "enrolled": 9,
    "monthSigned": 0,
    "monthEnrolled": 1,
    "pi": "陳明晃",
    "nurse": "林韋秀",
    "phone": "0963501682",
    "status": "進行中",
    "inclusion": "1. 不限her 2 ( - or +)，但如為her 2 (+) 一線治療必須用過Herceptin 2. Measurable lesion by RECIST 1.1 3.沒有排除 B C肝",
    "exclusion": ""
  },
  {
    "id": 12,
    "cancerType": "胃癌",
    "line": "二線",
    "studyTitle": "一項第 1b 期、多中心、開放性試驗，評估 CHS-114 合併Toripalimab 加上或不加其他治療用於晚期或轉移性實體腫瘤參與者的安全性和療效",
    "code": "CHS-114-02",
    "phase": "Ib",
    "sponsor": "美捷",
    "targetNum": 6,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "林韋秀, 王秋眉",
    "phone": "0963501682",
    "status": "進行中",
    "inclusion": "1.C2需要再次切片 2.Slide*15 (4-5u) ,C1D1前需寄出 4.需有Target Lesion (Recist 1.1) 5.ILD or Pneumonitis 病史不能收 Cohort A (2L Gastric, GEJ, and Esophageal Adenocarcinoma)",
    "exclusion": "ILD或Pneumonitis病史"
  },
  {
    "id": 13,
    "cancerType": "胃癌",
    "line": "一線後",
    "studyTitle": "一項第二期、開放性、多中心試驗，評估 AZD0901 作為單一療法和併用抗癌藥物使用於表現 Claudin 18.2 之晚期實體腫瘤受試者的安全性、耐受性、療效、藥物動力學及免疫原性",
    "code": "D9800C00001",
    "phase": "Ib/II",
    "sponsor": "AZ",
    "targetNum": 10,
    "enrolled": 3,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 王昭蘋, 吳佳勳",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1.可收胰臟癌及胃癌 ,膽管癌 (1)胰臟癌 ,一線治療 (2)胃癌,正二.三線治療 (3)膽管癌,正二.三線治療 2. HER2 (-) 3. 胃癌需PD後再次切片,C3要再切片一次 4. archival tissue <24 months送國外驗Claudin18.2切片6片 (14個工作天出報告 ) , 進案時需再送14片給國外 5. One Measurable lesion by RECIST 1.1 6. 可收B肝 HBV DNA<2000 需使用抗病毒用藥 ,排除C肝及HIV(+) 7.ECOG 0-1 8.體重 >= 35 KG",
    "exclusion": "C肝, HIV(+)"
  },
  {
    "id": 14,
    "cancerType": "胃癌",
    "line": "三線",
    "studyTitle": "一項第二期、開放性、多中心試驗，評估 AZD0901 作為單一療法和併用抗癌藥物使用於表現 Claudin 18.2 之晚期實體腫瘤受試者的安全性、耐受性、療效、藥物動力學及免疫原性",
    "code": "D9802C00001",
    "phase": "III",
    "sponsor": "AZ",
    "targetNum": 17,
    "enrolled": 12,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "吳佳勳",
    "phone": "0918696523",
    "status": "進行中",
    "inclusion": "1.正三線及三線後 都可以收，一線需用過 Fluoropyrimidine/ platinum 2. HER2 (-) 3. archival tissue <24 months送國外驗Claudin18.2切片*15(10天出報告) 4. 與上一線治療需 washout 28天或5個半衰期 5. One Measurable lesion by RECIST 1.1 6. 可收B肝 HBV DNA<100.治療後的C肝 病毒量驗不到 !!!!! 收案即將進入尾聲 (3/31)，動起來再加碼收 5人~",
    "exclusion": ""
  },
  {
    "id": 15,
    "cancerType": "胃癌",
    "line": "三線",
    "studyTitle": "一項第3期、多中心、開放性、隨機分配試驗，比較 MK-2870與醫師選擇之治療，對於 3L+晚期／轉移性胃食道腺癌（胃腺癌、胃食道交接處腺癌和食道腺癌）的療效和安全性",
    "code": "MK2870-015",
    "phase": "III",
    "sponsor": "MSD",
    "targetNum": 4,
    "enrolled": 3,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "孔亭方, 王秋眉, 吳佳勳",
    "phone": "7270#268",
    "status": "暫停收案",
    "inclusion": "1.可收食道癌及胃癌 正三線及三線後 2.需要20片切片,要等10天報告出來才能 Random 3.必須使用過fluoropyrimidine and platinum doublet 4.HER2+ must have previously received trastuzumab 5.Brain meta需要接受治療且確認為 stable 6.B,C肝, HIV只要有病史都不收 7.試驗藥物只能從周邊血管施打",
    "exclusion": "B肝, C肝, HIV病史"
  },
  {
    "id": 16,
    "cancerType": "胃癌",
    "line": "三線",
    "studyTitle": "BDC-4182 作為單一藥物於晚期胃癌及胃食道癌患者之第 1/2 期、首次使用於人體之劑量遞增與擴展試驗",
    "code": "BBI-4182-101",
    "phase": "I/II",
    "sponsor": "Bolt",
    "targetNum": 2,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 林韋秀",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1. 組織學確認為胃癌或胃食道癌，且為轉移性或無法切除。2. 必須已接受至少 1-2線之標準療法或對標準療法不耐受。3. 如接受過Claudin 18治療，需有該線治療後採集的組織檢體。4. CCr需≥50。Baseline Albumin需≥3.0g/dl，且14天內不可輸注白蛋白。C1D1 的7天內不可輸血及打G-CSF。5. 腫瘤組織檢體需小於 12個月內(自簽署同意書日期起算 )。",
    "exclusion": ""
  },
  {
    "id": 17,
    "cancerType": "食道癌",
    "line": "一線",
    "studyTitle": "一項針對罹患局部晚期不可切除／轉移性食道癌 ( ESCC) 的第一線治療受試者，使用研究性藥物併用 Pembrolizumab（MK-3475）搭配或不搭配化學治療的第 1／2 期開放標示、傘式平台設計試驗 KEYMAKER-U06：06E 子試驗",
    "code": "MK-3475-06E",
    "phase": "I/II",
    "sponsor": "MSD",
    "targetNum": 5,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "孔亭方, 陳秀玲, 王秋眉",
    "phone": "0981764403",
    "status": "進行中",
    "inclusion": "1- 您必須經過組織學或細胞學確診為第 1 線（1L） 治療中的局部晚期不可切除或轉移性食道鱗狀細胞癌。2- ccr > =50 ml/min",
    "exclusion": "1-腫瘤侵入食道病變部位附近的器官（如主動脈或呼吸道），經試驗主持人評估，發生瘻管的風險增加 2. 在使用試驗治療前 4 週內曾接受試驗性藥物或曾使用試驗性醫療器材。3. QTcF value >470 msec / LVEF < 50"
  },
  {
    "id": 18,
    "cancerType": "食道癌",
    "line": "一線",
    "studyTitle": "一項針對罹患局部晚期無法切除 /轉移性胃食道腺癌 (胃腺癌、胃食道交接處腺癌與食道腺癌 ) 的第一線治療受試者，使用 MK-2870搭配Pembrolizumab (MK-3475) 和化療的第1/2期開放標示、傘式平台設計試驗： 06C子試驗",
    "code": "MK-3475-06C",
    "phase": "I/II",
    "sponsor": "MSD",
    "targetNum": 3,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "孔亭方, 陳秀玲",
    "phone": "0981764403",
    "status": "進行中",
    "inclusion": "1. 經組織學和/或細胞學確診為先前未經治療的局部晚期 不可切除或轉移性 1L 胃食道腺癌（胃腺癌、胃食道腺癌）交界腺癌，或稱食道腺癌）。有資格接受放射治療或新輔助治療的參與者不符合資格。2. 患有非HER2/neu陽性的胃食道腺癌。3.ccr > =50 ml/min",
    "exclusion": "1-在第一劑研究介入前 3 個月內體重減輕 >20%。2- 有嚴重乾眼症候群、嚴重瞼板腺疾病和 /延遲角膜癒合的角膜疾病病史。"
  },
  {
    "id": 19,
    "cancerType": "食道癌",
    "line": "二線",
    "studyTitle": "一項針對 Ifinatamab Deruxtecan (I-DXd) 用於先前曾接受過治療的晚期或轉移性 食道鱗狀細胞癌 (ESCC) 受試者之第三期、多中心、隨機分配、開放標記試驗 (IDeate-Esophageal01)",
    "code": "DS7300-202",
    "phase": "III",
    "sponsor": "DAIICHI SANKYO",
    "targetNum": 4,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "孔亭方, 陳秀玲, 王秋眉",
    "phone": "0981764403",
    "status": "進行中",
    "inclusion": "1-Has disease progression post platinum-based and ICI treatment per global or local guidelines, with a maximum of 1 prior line of systemic therapy for unresectable advanced or metastatic ESCC. 2- The subject must provide adequate baseline tumor samples collected from a biopsy performed within 6 months of consent (15 片 ).",
    "exclusion": "1.受試者患有 <50 bpm 的心搏過緩，除非受試者裝有心律調節器 2. Has received prior treatment with orlotamab, enoblituzumab, or other B7-H3 targeted agents, including I-DXd. 3. Has history of documented severe dry eye syndrome, severe Meibomian gland disease and/or blepharitis, or corneal disease that prevents/delays corneal healing."
  },
  {
    "id": 20,
    "cancerType": "食道癌",
    "line": "二線",
    "studyTitle": "一項第1⁄2期開放標示、傘式平台設計試驗，評估 MK-2870合併Paclitaxel作為二線治療罹患晚期 /轉移性胃食道腺癌 的受試者的安全與療效性： 06D子試驗",
    "code": "MK-3475-06D",
    "phase": "I/II",
    "sponsor": "MSD",
    "targetNum": 6,
    "enrolled": 1,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "孔亭方, 王秋眉",
    "phone": "0981764403",
    "status": "進行中",
    "inclusion": "1-Has histologically and/or cytologically confirmed diagnosis of previously treated, 2L(received 1L treatment) gastric adenocarcinoma, GEJ adenocarcinoma, or esophageal adenocarcinoma. 2- Has experienced documented objective radiographic or clinical disease progression during or after 1L therapy containing any platinum/fluoropyrimidine doublet with or without immunotherapy.",
    "exclusion": "1. Has squamous cell or undifferentiated esophageal gastric cancer. 2. Received prior treatment with a TROP2-targeted ADC"
  },
  {
    "id": 21,
    "cancerType": "胰臟癌",
    "line": "一線",
    "studyTitle": "一項第 2b/3 期、隨機分配、雙盲試驗 ,針對接受背景第一線化療的惡病質和轉移性胰管腺癌成人參與者 ,探討 PONSEGROMAB (PF-06946860) 相較於安慰劑的療效、安全性和耐受性",
    "code": "C3651021",
    "phase": "2b/3",
    "sponsor": "輝瑞",
    "targetNum": 15,
    "enrolled": 1,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "李重賓",
    "nurse": "張台依",
    "phone": "0972811090",
    "status": "進行中",
    "inclusion": "1. 資料顯示有轉移性胰管腺癌 2. 尚未接受過治療 (一線治療) 3. Measurable lesion by RECIST 1.1 4. Fearon 定義的惡病質: BMI < 20 kg/m2 且篩選前六個月 內自願性體重減輕 > 2% 或者 篩選前過去六個月 內非自願體重減輕 > 5% 5. ECOG : 0-1 6. 不需要送腫瘤切片 7. LVEF > 50%",
    "exclusion": ""
  },
  {
    "id": 22,
    "cancerType": "胰臟癌",
    "line": "一線",
    "studyTitle": "一項第 1b 期試驗，評估 AMG 193 合併其他療法用於晚期同合子甲硫腺苷磷酸化 酶 (MTAP) 缺失胃腸道癌、膽管癌、胰臟癌受試者的安全性、耐受性、藥物動力學及療效 – 主試驗計畫",
    "code": "20230023",
    "phase": "IB",
    "sponsor": "Amgen Inc.",
    "targetNum": 5,
    "enrolled": 3,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "洪逸平",
    "nurse": "王昭蘋",
    "phone": "0919377185",
    "status": "停止收案",
    "inclusion": "105 依當地或中央次世代定序檢測，評估為 MTAP 缺失。106 有能力吞服口服之試驗治療，不會吐出來，並願意記錄試驗藥 品的每天服藥情況。107 經試驗主持人判定，患有實體腫瘤治療反應評估標準第 1.1 版 (RECIST v1.1) 定義的可測量病灶。108 美國東岸癌症臨床研究合作組織 (ECOG) 體能狀態為 0 或1 分 目前只開放收 胰臟癌一線",
    "exclusion": ""
  },
  {
    "id": 23,
    "cancerType": "胰臟癌",
    "line": "一線",
    "studyTitle": "一項隨機分配、第 2/3期試驗，針對未接受過治療、且具有同源性MTAP缺失的轉移性胰管腺癌受試者，以 BMS-986504併用Nabpaclitaxel及Gemcitabine，相較於安慰劑併用 Nab-paclitaxel及Gemcitabine的療效",
    "code": "CA2400030",
    "phase": "2/3",
    "sponsor": "必治妥",
    "targetNum": 5,
    "enrolled": 3,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "姜乃榕",
    "nurse": "王昭蘋",
    "phone": "0919377185",
    "status": "進行中",
    "inclusion": "● 經組織學或細胞學方法確診患有轉移性 PDAC。● 於腫瘤組織內偵測到同源性MTAP缺失或MTAP喪失的證據。● 至少1處可根據RECIST v1.1測量的轉移性疾病病灶。● 受試者不得於轉移性情況下接受過任何全身性抗癌治療。",
    "exclusion": "排除b,c肝"
  },
  {
    "id": 24,
    "cancerType": "膽道癌",
    "line": "一線",
    "studyTitle": "一項第 III 期、隨機分配、開放性、全球多中心試驗，評估Rilvegostomig 或 Durvalumab 併用化療作為晚期膽道癌患者的第一線治療 (ARTEMIDE-Biliary02)",
    "code": "D702NC00001",
    "phase": "III",
    "sponsor": "AZ",
    "targetNum": 15,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "林韋秀, 王秋眉",
    "phone": "0963501682",
    "status": "進行中",
    "inclusion": "1. 經組織學確認患有膽道線癌，包括 iCCA、eCCA和膽道癌。不收壺腹癌。2. 需提供12個月內的切片檢體，random前需有PDL-1 報告(Central review) 。3. CCr ≥ 50 ml/min，C1D1前14天不可輸血、打 GCSF。4. 暫不收B、C肝。",
    "exclusion": "B肝, C肝, 壺腹癌"
  },
  {
    "id": 25,
    "cancerType": "膽道癌",
    "line": "一線",
    "studyTitle": "DESTINY-Biliary Tract Cancer-01：一項第三期試驗，評估Trastuzumab Deruxtecan (T-DXd) 和 Rilvegostomig 相較於標準照護 Gemcitabine、Cisplatin 和 Durvalumab 作為第一線治療局部晚期或轉移性HER2表現型的膽道癌",
    "code": "DESTINY-Biliary Tract",
    "phase": "3",
    "sponsor": "AZ",
    "targetNum": 6,
    "enrolled": 6,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 王昭蘋",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1.局部晚期或轉移性 HER2表現型的膽道癌、膽囊癌 2.尚未接受過治療 (一線治療) 3.Adjuvant結束超過6個月後復發，不在此限 4.HER 2 表現型IHC2+或3+ 5.B肝患者可收，但與 C肝交叉感染者不可收案。6.仍需在15-20片切片檢驗HER2 7.Measurable lesion by RECIST 1.1",
    "exclusion": "B肝與C肝交叉感染"
  },
  {
    "id": 26,
    "cancerType": "膽道癌",
    "line": "二線",
    "studyTitle": "一項第三期、隨機分配、對照、全球多中心試驗，針對纖維母細胞生長因子受體 (FGFR)變異、化療和FGFR抑制劑難治型/復發型膽管癌受試者，評估口服Tinengotinib相較於醫師選定療法的療效與安全性 (FIRST-308)",
    "code": "TT420C2308",
    "phase": "3",
    "sponsor": "藥捷安康",
    "targetNum": 6,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "周淑慧",
    "phone": "82935/82999",
    "status": "進行中",
    "inclusion": "1. 至少接受過一線化療 (Gemzar+Cisplatin)及一線FGFR標靶藥 2. 如果只有「一個」 Target iesion (non-lymph node),測量長徑要 ≥1.5cm 3. Gemcitabine+Cisplatin washout period > 21days 4. HBsAg(+), HBV DNA<500 IU/mL 5. Anti-HCV(+), HCV RNA(-)",
    "exclusion": ""
  },
  {
    "id": 27,
    "cancerType": "膽道癌",
    "line": "觀察性",
    "studyTitle": "一項真實世界證據研究，評估 Pemigatinib用於先前已治療過之局部晚期、轉移性或無法切除膽管癌之治療成效",
    "code": "PG2401",
    "phase": "觀察性研究",
    "sponsor": "東洋 TTY",
    "targetNum": 15,
    "enrolled": 7,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "宋秀薇",
    "phone": "0936385216",
    "status": "暫停收案",
    "inclusion": "(1)經組織學或細胞學確認之局部晚期或轉移性膽管癌，且對先前之全身性抗癌療法具有腫瘤惡化證據 (2)當地基因檢測具有FGFR2融合或重組之證據 (3)使用Pemigatinib治療 (2021年5月至2025年9月間開始使用) (4)能提供次世代基因定序(Next Generation Sequencing, NGS)完整報告",
    "exclusion": ""
  },
  {
    "id": 28,
    "cancerType": "大腸癌",
    "line": "一線",
    "studyTitle": "一項第 3 期、隨機分配、開放性、多中心臨床試驗，評估 MK-1084、 Cetuximab 和 mFOLFOX6 相較於 mFOLFOX6 併用或不併用Bevacizumab，做為 KRAS G12C 突變局部晚期不可切除或轉移性大腸直腸癌受試者之第一線治療的安全性和療效（KANDLELIT-012）",
    "code": "MK-1082-012",
    "phase": "III",
    "sponsor": "MSD",
    "targetNum": 4,
    "enrolled": 2,
    "monthSigned": 2,
    "monthEnrolled": 2,
    "pi": "鄧豪偉",
    "nurse": "張台依",
    "phone": "0972811090",
    "status": "進行中",
    "inclusion": "Part 1 (Safety Lead-In) 收案條件簡述: • Stage III or IV, KRAS G12C mutation (+) CRC • Part 1: Treatment Naïve 或用過一線治療 (一線或二線皆可, 不可用到oxaliplatin) 已收滿 Target • Part 2: Treatment Naïve ( 預計 2026 開放名額 )",
    "exclusion": ""
  },
  {
    "id": 29,
    "cancerType": "大腸癌",
    "line": "一線",
    "studyTitle": "一項第 2 期、開放性、隨機分配、主試驗計畫書試驗，評估 Telisotuzumab Adizutecan 併用多種治療組合在轉移性大腸直腸癌受試者中的安全性和療效 (AndroMETa-CRC-533)",
    "code": "M24-533",
    "phase": "2",
    "sponsor": "Abbive",
    "targetNum": 3,
    "enrolled": 1,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 吳佳勳, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "1.right side:KRAS/NRAS wildtype or mutation ,BRAFV600E wildtype 2. left side :KRAS/NRAS mutation,BRAF V600F wild type 3.tumor is not dMMR+/MSI-H. 4.Received prior adjuvant chemotherapy (FOLFOX.CAPOX) more than 12 months have passed before C1D1. 5.HBV DNA<500 IU/ml and anti-HBV treatment for a minimun of 14 days prior to 14 days prior to C1D1. 6.HCV negative.",
    "exclusion": "HCV(+)"
  },
  {
    "id": 30,
    "cancerType": "大腸癌",
    "line": "一線",
    "studyTitle": "一項多中心、隨機分配、開放標記、有效藥物對照的第 3 期試驗， Sotorasib、Panitumumab 及 FOLFIRI 與 FOLFIRI 併用或無併用Bevacizumab-awwb，用於未曾接受過治療且帶有 KRAS p.G12C 突變的轉移性大腸直腸癌受試者之比較 (CodeBreaK 301)",
    "code": "20210081",
    "phase": "3",
    "sponsor": "Amgen Inc",
    "targetNum": 2,
    "enrolled": 1,
    "monthSigned": 1,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "張台依",
    "phone": "0972811090",
    "status": "進行中",
    "inclusion": "1. KRAS G12C: Positive and MSS 2. FIGO Stage: IV 準備要接受第一線化療 or FIGO Stage: I ~ III 治療後六個月(轉移) PD 預計化療. 3. Eastern Cooperative Oncolgy Group (ECOG) Performance Status of 1. 4. 5 年內 Tumor Slide: 15片 6. Corrected QT interval (QTcF) 470 msec. 7. 沒有 B / C 型肝炎",
    "exclusion": "B肝, C肝"
  },
  {
    "id": 31,
    "cancerType": "大腸癌",
    "line": "一線",
    "studyTitle": "一項評估 Tucatinib併用Trastuzumab 和 mFOLFOX6 對照mFOLFOX6併用或不併用Cetuximab 或 Bevacizumab 作為患有HER2+轉移性結直腸癌受試者的一線治療療法的開放性、隨機分配、第3 期試驗",
    "code": "SGNTUC-029",
    "phase": "III",
    "sponsor": "Seagen",
    "targetNum": 6,
    "enrolled": 3,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "1 Send tissue slide 25 and Central confirmed HER2 3+ or ISH + and confirmed RAS status. 2.LVEF > 50%. 3.Previously treated brain metastases which are asystamatic",
    "exclusion": "1.Have previously been treated with anti-HER2 therapy 2.Have a history of GI perforation within 12 months of enrollment. 3.Have ongoing grade 2 diarrhea of any etiology at screening. 4.HBsAg positive or chronic liver disesase"
  },
  {
    "id": 32,
    "cancerType": "大腸癌",
    "line": "一線",
    "studyTitle": "一項第I/Ib期全球性、多中心、開放性、傘狀試驗，用以評估標靶療法對轉移性大腸直腸癌病患子族群的安全性與療效(INTRINSIC)",
    "code": "WO42758",
    "phase": "I/Ib",
    "sponsor": "Roche",
    "targetNum": 10,
    "enrolled": 6,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "1.KRAS G12C mututation arm, mCRC 1 line Diva + Bevacizumab +FOLFOX General Inclusion Criteria: 1.Histologically confirmed adenocarcinoma originating from the colon or rectum 2.Metastatic disease 3.Measurable disease General Exclusion Criteria: 1.Symptomatic, untreated, or actively progressing CNS metastases 2.History of malignancy other than CRC within 2 years prior to screening",
    "exclusion": "Symptomatic CNS metastases, 其他惡性腫瘤病史(2年內)"
  },
  {
    "id": 33,
    "cancerType": "大腸癌",
    "line": "二線",
    "studyTitle": "一項第2 期、隨機分配試驗，對於曾接受治療之無法切除轉移性結腸直腸癌受試者，評估ABBV-400 合併Fluorouracil、Folinic Acid 和Bevacizumab 的安全性、療效和最佳劑量，以及評估ABBV 400",
    "code": "M24-311",
    "phase": "II",
    "sponsor": "Abbvie",
    "targetNum": 5,
    "enrolled": 5,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "1. BRAF V600E no mutation and microsatellite stable, MSS 2.Tumor tissue (archived and fresh biopsy during screening phase),一定要同意接受一線 PD後未治療的Fresh biopsy. 3First line FOLFOX or CAPOX 加上或不加上抗 EGFR抗體(不限於Cetuximab or panitumumab) 或抗VEGF單株抗體(不限於Bevacizumab or Ramucirumab) 4.未曾接受過irinotecan or C-Met 標靶抗體0r ADC的全身性療法 5.無謂治療的腦部轉移 ,或根治性治療後臨床上或影像上穩定至少14天. 6.HCV RNA (-) .7.開始試驗治療前 35天HBV DNA <500第一劑治療前14天開始使用抗HBV治療",
    "exclusion": "使用過irinotecan或C-Met標靶抗體"
  },
  {
    "id": 34,
    "cancerType": "大腸癌",
    "line": "二線",
    "studyTitle": "一項隨機分配、開放性、第 3 期試驗，旨在比較 Amivantamab + FOLFIRI 與 Cetuximab/Bevacizumab + FOLFIRI 在先前曾接受過化學治療的 KRAS/NRAS 和 BRAF 野生型之復發性、無法手術切除或轉移性大腸直腸癌參與者中的療效",
    "code": "61186372COR3002",
    "phase": "III",
    "sponsor": "J & J",
    "targetNum": 5,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "1. have received 1 line of systemic therapy for mCRC 2. KRAS, NRAS, and BRAF WT tumor 3. Measurable lesion 4. dMMR /MSI-H 須接受免疫治療",
    "exclusion": "1. prior exposure to irinotecan, any agents that target EGFR or MET 2. any component of FOLFIRI 3. dMMR/MSI-H status who has not received immunotherapy treatments. 4. HER2-positive/amplified tumor 6. Diabetes mellitus 7. Ongoing or active infection 8. HBV or HCV infection 9. symptomatic or untreated brain metastasis"
  },
  {
    "id": 35,
    "cancerType": "大腸癌",
    "line": "二線/三線",
    "studyTitle": "AndroMETa-CRC-064：一項開放性、隨機分配、對照、全球第 3 期試驗，比較ABBV-400 單一療法與LONSURF（Trifluridine 和Tipiracil）加上Bevacizumab 用於c-Met 過度表現的難治型轉移性結腸直腸癌受試者",
    "code": "M24-064",
    "phase": "3",
    "sponsor": "Abbvie",
    "targetNum": 5,
    "enrolled": 1,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "鄧豪偉",
    "nurse": "陳秀玲, 孔亭方",
    "phone": "0988660381",
    "status": "進行中",
    "inclusion": "Pre-screening: 1. Prior treatment regimens must have included a fluoropyrimidine , irinotecan, oxaliplatin, and an anti-VEGF monoclonal antibody and an anti-EGFR antibody if indicated. 2. Prior treatment of Regorafenib and/or Fruquintinib is allowed. 3. Must not have received prior LONSURF (Trifluridine/Tipiracil) treatment. 4. BRAFV600E or HER2 amplified should have received approved target therapy . 5. MSI-high/dMMR should have received approved immunotherapy 6. primary tumor site and/or metastatic sites slide 6-22 7. c-Met ICH staining: 3+ intensity, ≥ 10% tumor cell (result about 14 days)",
    "exclusion": "使用過LONSURF"
  },
  {
    "id": 36,
    "cancerType": "多種癌症",
    "line": "多線",
    "studyTitle": "T-1301膠囊用於晚期實體腫瘤患者之臨床一期安全性、耐受性與藥物動力學研究",
    "code": "TAI-301",
    "phase": "1",
    "sponsor": "泰瑋",
    "targetNum": 15,
    "enrolled": 6,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "宋秀薇, 王秋眉",
    "phone": "7270#268",
    "status": "進行中",
    "inclusion": "1 HBV(-),HCV(+)RNA(-) 2.血壓不能超過SBP160/DBP100 3.二線或二線以上之病人。4.Measurable lesion by RECIST 1.1 5.調整劑量 : 100 mg/day, 優先招募GIST、melanoma with c-KIT mutation 6. CCr: >=50ml/min",
    "exclusion": "HBV(+)"
  },
  {
    "id": 37,
    "cancerType": "多種癌症",
    "line": "多線",
    "studyTitle": "一項第 1/1b/2 期試驗，評估單獨使用 AMG 193 及合併 docetaxel 用於晚期 MTAP 缺失實體腫瘤受試者的安全性、耐受性、藥物動力學、藥效學及療效",
    "code": "AMG193",
    "phase": "1/1b/2",
    "sponsor": "Amgen Inc",
    "targetNum": 10,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "洪逸平",
    "nurse": "王昭蘋",
    "phone": "7270#262",
    "status": "進行中",
    "inclusion": "1.以 NGS 確認 MTAP 缺失 2.Measurable lesion by RECIST 1.1 只剩肺癌有名額",
    "exclusion": ""
  },
  {
    "id": 38,
    "cancerType": "多種癌症",
    "line": "二線",
    "studyTitle": "一項第1／2期試驗，評估Patritumab Deruxtecan對於胃腸道癌症的安全性和療效",
    "code": "MK-1022",
    "phase": "1/2",
    "sponsor": "MSD",
    "targetNum": 6,
    "enrolled": 1,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 王昭蘋, 陳秀玲",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1.收膽管癌正二.線及大腸癌二線 . 肝癌 2.前線PD後需要重新切片 ,在送出20片 3.CT必須得到廠商確認 (預計5天)才能C1D1 4.B.C肝可以收,但須使用4周抗病毒藥物及測不到病毒量 5.心超LVEF > 50%",
    "exclusion": ""
  },
  {
    "id": 39,
    "cancerType": "多種癌症",
    "line": "多線",
    "studyTitle": "一項在晚期或轉移性實體腫瘤病患使用 PEP07 (檢查點激酶 1抑制劑 )的第一期試驗",
    "code": "PEP07-102",
    "phase": "I",
    "sponsor": "智擎生技",
    "targetNum": 20,
    "enrolled": 2,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "姜乃榕",
    "nurse": "王昭蘋",
    "phone": "7270#262",
    "status": "進行中",
    "inclusion": "1.根據實體腫瘤療效評估標準(RECIST)版本1.1，有至少一個可測量的病灶。2.受試者在第一劑試驗藥物治療前14天或5個半衰期內(以較短者為準)接受過抗癌治療，包括化學治療、放射治療、荷爾蒙治療、或任何試驗治療，或在30天內接受過免疫治療。 3 收案前後都要再切片 . 4.需詢問SLOT",
    "exclusion": ""
  },
  {
    "id": 40,
    "cancerType": "多種癌症",
    "line": "多線",
    "studyTitle": "一項第二期、多中心、開放性試驗，評估以Trastuzumab Deruxtecan (T-DXd, DS-8201a) 治療選定 HER2 表現腫瘤之療效與安全性 (DESTINY-PanTumor02)",
    "code": "D967VC00001",
    "phase": "2",
    "sponsor": "AZ",
    "targetNum": 7,
    "enrolled": 5,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "洪逸平",
    "nurse": "王秋眉",
    "phone": "0927751328",
    "status": "暫停收案",
    "inclusion": "1.有一顆可測量的腫瘤 2.HER2(2+) 3.prescreen Slides 4-5mu 12片 screen 在 Slides 4-5mu 15片 4.HBsAg(-), HCV RNA(-) 5. 可收組別 a:HER2,IHC3+ any tumor type(額滿) b:HER2,IHC2+/ISH- positive any tumor type (額滿) c:HER2,IHC2+ or 1+ endometrial cancer (額滿) d:HER2,IHC2+ or 1+ ovarian cancer (額滿) e:HER2,IHC2+ or 1+ cervical cancer (額滿) 6.同意書改版Anti-HBc(+) 可以收",
    "exclusion": ""
  },
  {
    "id": 41,
    "cancerType": "多種癌症",
    "line": "二/三線",
    "studyTitle": "一項第1／2期試驗，針對胃腸道癌症評估 MK-2870單一療法或與其他抗癌藥物合併使用的安全性與療效",
    "code": "MK-9999-02A",
    "phase": "II",
    "sponsor": "MSD",
    "targetNum": 4,
    "enrolled": 1,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 王昭蘋, 陳秀玲",
    "phone": "0927751328",
    "status": "名額已滿",
    "inclusion": "1.收膽管癌正二.三線及胰臟癌二線 .大腸癌二線 2.需要20片切片 3.CT必須得到廠商確認才能用藥 4.試驗藥物只能從周邊血管施打 5.HIV只要有病史不收 6.心超LVEF > 50%",
    "exclusion": "HIV病史"
  },
  {
    "id": 42,
    "cancerType": "多種癌症",
    "line": "二線",
    "studyTitle": "一項第2期、非隨機分配、開放性、多中心試驗，評估 Raludotatug Deruxtecan用於胃腸道癌症受試者的安全和療效性",
    "code": "MK5909-005",
    "phase": "II",
    "sponsor": "MSD",
    "targetNum": 6,
    "enrolled": 4,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "陳明晃",
    "nurse": "王秋眉, 王昭蘋, 陳秀玲",
    "phone": "0927751328",
    "status": "進行中",
    "inclusion": "1.收膽管癌正二 .三線及胰臟癌二線 .大腸癌二線 、胃癌3L以上 2.需要21片切片 3.CT必須得到廠商確認才能用藥 4.HIV只要有病史不收 5.心超LVEF > 50%",
    "exclusion": "HIV病史"
  },
  {
    "id": 43,
    "cancerType": "肝癌",
    "line": "多線",
    "studyTitle": "一項多中心 ` 開放標記 ` 首次於人體執行之試驗 , 旨在研究TYRA-430 用於治療晚期肝癌或具有活化 FGF/GFGR 途徑變異的其他實體腫瘤 (SUFR-431)",
    "code": "TYR430-101",
    "phase": "I",
    "sponsor": "Tyra Biosciences",
    "targetNum": 15,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "李重賓",
    "nurse": "張台依",
    "phone": "0972811090",
    "status": "停止收案",
    "inclusion": "1. 局部晚期無法切除 /轉移性肝細胞癌 (HCC) 或經組織學證實晚期實體腫瘤帶有 FGF/FGFR 基因突變 。2. 受試者之前可接受任何次數的先前治療 , 收多線後 。3.ccr > =60 ml/min",
    "exclusion": "1-篩選前四週曾接受重大手術。2- 無法控制的心血管疾病 , (NYHC: CHF 3-4 級 ; 心肌梗塞 ; 肺栓塞。) 3-活動性 ` 症狀性或未經治療的腦部轉移。"
  },
  {
    "id": 44,
    "cancerType": "肝癌",
    "line": "一線",
    "studyTitle": "一項二期、劑量隨機、開放性臨床試驗評估PTS100用於治療不適合手術切除或局部區域治療的原發性肝癌（ HCC）患者的安全性與療效- PTS100, intra-liver tumor injection",
    "code": "GW-020202",
    "phase": "II",
    "sponsor": "共信",
    "targetNum": 3,
    "enrolled": 0,
    "monthSigned": 0,
    "monthEnrolled": 0,
    "pi": "黃怡翔",
    "nurse": "李杰如, 吳佳勳",
    "phone": "0939859265",
    "status": "進行中",
    "inclusion": "Major protocol amedmnet in processing.",
    "exclusion": ""
  }
];

        // 訪問密碼驗證組件
        function AccessPasswordScreen({ onAccessGranted }) {
          const [password, setPassword] = useState('');
          const [error, setError] = useState(false);

          const handleSubmit = (e) => {
            e.preventDefault();
            if (password === SECURITY_CONFIG.ACCESS_PASSWORD) {
              sessionStorage.setItem('access_granted', 'true');
              onAccessGranted();
            } else {
              setError(true);
              setPassword('');
              setTimeout(() => setError(false), 500);
            }
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-900 via-indigo-900 to-purple-900 flex items-center justify-center p-4">
              <div className={`bg-white rounded-3xl shadow-2xl p-12 max-w-md w-full ${error ? 'shake' : ''}`}>
                <div className="text-center mb-8">
                  <div className="inline-block p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full mb-6">
                    <ShieldIcon />
                  </div>
                  <h1 className="text-3xl font-bold text-slate-800 mb-2">
                    臨床試驗管理系統
                  </h1>
                  <p className="text-slate-600">此系統受密碼保護</p>
                </div>

                <form onSubmit={handleSubmit} className="space-y-6">
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">
                      <div className="flex items-center gap-2">
                        <LockIcon />
                        訪問密碼
                      </div>
                    </label>
                    <input
                      type="password"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                      className={`w-full px-4 py-3 border-2 ${error ? 'border-red-500' : 'border-slate-300'} rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg`}
                      placeholder="請輸入訪問密碼"
                      autoFocus
                    />
                    {error && (
                      <p className="text-red-500 text-sm mt-2">❌ 密碼錯誤，請重試</p>
                    )}
                  </div>

                  <button
                    type="submit"
                    className="w-full px-6 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl font-semibold text-lg"
                  >
                    進入系統
                  </button>
                </form>

                <div className="mt-8 p-4 bg-blue-50 rounded-xl border border-blue-200">
                  <p className="text-xs text-slate-600 text-center">
                    🔒 此系統使用 AES-256 加密保護數據<br/>
                    如忘記密碼請聯繫系統管理員
                  </p>
                </div>
              </div>
            </div>
          );
        }

        function ClinicalTrialsManager() {
          const [hasAccess, setHasAccess] = useState(false);
          const [trials, setTrials] = useState([]);
          const [filteredTrials, setFilteredTrials] = useState([]);
          const [searchTerm, setSearchTerm] = useState('');
          const [selectedCancer, setSelectedCancer] = useState('全部');
          const [selectedLine, setSelectedLine] = useState('全部');
          const [selectedStatus, setSelectedStatus] = useState('全部');
          const [isLoggedIn, setIsLoggedIn] = useState(false);
          const [showLoginModal, setShowLoginModal] = useState(false);
          const [username, setUsername] = useState('');
          const [password, setPassword] = useState('');
          const [editingTrial, setEditingTrial] = useState(null);
          const [showAddModal, setShowAddModal] = useState(false);
          const [loading, setLoading] = useState(true);

          useEffect(() => {
            // 檢查是否已通過訪問密碼驗證
            const accessGranted = sessionStorage.getItem('access_granted');
            if (accessGranted === 'true') {
              setHasAccess(true);
              loadTrialsFromStorage();
            } else {
              setLoading(false);
            }
          }, []);

          const loadTrialsFromStorage = () => {
            console.log('開始載入數據...');
            console.log('初始數據長度:', initialTrials.length);
            
            try {
              // 先檢查 localStorage 是否可用
              const storageAvailable = typeof(Storage) !== "undefined";
              console.log('localStorage 可用:', storageAvailable);
              
              if (!storageAvailable) {
                // localStorage 不可用，直接使用初始數據
                console.log('localStorage 不可用，使用初始數據');
                setTrials(initialTrials);
                setFilteredTrials(initialTrials);
                setLoading(false);
                return;
              }

              const storedData = localStorage.getItem('clinical-trials-encrypted');
              console.log('儲存的數據存在:', !!storedData);
              
              if (storedData) {
                // 嘗試解密
                try {
                  const decryptedTrials = decryptData(storedData);
                  console.log('解密結果:', decryptedTrials ? '成功' : '失敗');
                  
                  if (decryptedTrials && Array.isArray(decryptedTrials) && decryptedTrials.length > 0) {
                    console.log('使用已保存的數據，數量:', decryptedTrials.length);
                    setTrials(decryptedTrials);
                    setFilteredTrials(decryptedTrials);
                  } else {
                    // 解密失敗或數據無效，清除並使用初始數據
                    console.log('解密數據無效，清除並使用初始數據');
                    localStorage.removeItem('clinical-trials-encrypted');
                    setTrials(initialTrials);
                    setFilteredTrials(initialTrials);
                    saveTrialsToStorage(initialTrials);
                  }
                } catch (decryptError) {
                  console.error('解密錯誤:', decryptError);
                  // 解密失敗，清除損壞數據並使用初始數據
                  localStorage.removeItem('clinical-trials-encrypted');
                  setTrials(initialTrials);
                  setFilteredTrials(initialTrials);
                  saveTrialsToStorage(initialTrials);
                }
              } else {
                // 第一次使用，使用初始數據
                console.log('第一次使用，載入初始數據');
                setTrials(initialTrials);
                setFilteredTrials(initialTrials);
                saveTrialsToStorage(initialTrials);
              }
            } catch (error) {
              console.error('載入失敗:', error);
              // 任何錯誤都使用初始數據作為 fallback
              console.log('發生錯誤，使用初始數據 fallback');
              setTrials(initialTrials);
              setFilteredTrials(initialTrials);
            } finally {
              setLoading(false);
              console.log('數據載入完成');
            }
          };

          const saveTrialsToStorage = (trialsData) => {
            try {
              // 檢查 localStorage 是否可用
              if (typeof(Storage) === "undefined") {
                console.warn('localStorage 不可用，無法保存數據');
                return;
              }

              // 檢查 CryptoJS 是否可用
              if (typeof CryptoJS === 'undefined') {
                console.warn('CryptoJS 未載入，使用明文保存（開發模式）');
                localStorage.setItem('clinical-trials-plain', JSON.stringify(trialsData));
                return;
              }

              const encrypted = encryptData(trialsData);
              if (encrypted) {
                localStorage.setItem('clinical-trials-encrypted', encrypted);
                console.log('數據已加密保存');
              } else {
                console.warn('加密失敗，使用明文保存');
                localStorage.setItem('clinical-trials-plain', JSON.stringify(trialsData));
              }
            } catch (error) {
              console.error('保存失敗:', error);
              // 嘗試使用明文保存作為 fallback
              try {
                localStorage.setItem('clinical-trials-plain', JSON.stringify(trialsData));
                console.log('使用明文模式保存成功');
              } catch (fallbackError) {
                console.error('明文保存也失敗:', fallbackError);
              }
            }
          };

          useEffect(() => {
            let filtered = trials;

            if (selectedCancer !== '全部') {
              filtered = filtered.filter(t => t.cancerType === selectedCancer);
            }

            if (selectedLine !== '全部') {
              filtered = filtered.filter(t => t.line.includes(selectedLine));
            }

            if (selectedStatus !== '全部') {
              filtered = filtered.filter(t => t.status === selectedStatus);
            }

            if (searchTerm) {
              filtered = filtered.filter(t =>
                t.studyTitle.toLowerCase().includes(searchTerm.toLowerCase()) ||
                t.code.toLowerCase().includes(searchTerm.toLowerCase()) ||
                t.sponsor.toLowerCase().includes(searchTerm.toLowerCase()) ||
                t.pi.toLowerCase().includes(searchTerm.toLowerCase()) ||
                t.nurse.toLowerCase().includes(searchTerm.toLowerCase())
              );
            }

            setFilteredTrials(filtered);
          }, [trials, selectedCancer, selectedLine, selectedStatus, searchTerm]);

          const handleLogin = () => {
            if (username === SECURITY_CONFIG.ADMIN_USERNAME && password === SECURITY_CONFIG.ADMIN_PASSWORD) {
              setIsLoggedIn(true);
              setShowLoginModal(false);
              setUsername('');
              setPassword('');
            } else {
              alert('帳號或密碼錯誤');
            }
          };

          const handleLogout = () => {
            setIsLoggedIn(false);
          };

          const handleEdit = (trial) => {
            setEditingTrial({ ...trial });
          };

          const handleSaveEdit = () => {
            const updatedTrials = trials.map(t =>
              t.id === editingTrial.id ? editingTrial : t
            );
            setTrials(updatedTrials);
            saveTrialsToStorage(updatedTrials);
            setEditingTrial(null);
          };

          const handleDelete = (id) => {
            if (window.confirm('確定要刪除此試驗嗎？')) {
              const updatedTrials = trials.filter(t => t.id !== id);
              setTrials(updatedTrials);
              saveTrialsToStorage(updatedTrials);
            }
          };

          const handleAdd = (newTrial) => {
            const trialWithId = {
              ...newTrial,
              id: Math.max(...trials.map(t => t.id), 0) + 1
            };
            const updatedTrials = [...trials, trialWithId];
            setTrials(updatedTrials);
            saveTrialsToStorage(updatedTrials);
            setShowAddModal(false);
          };

          const downloadCSV = () => {
            const headers = ['癌症類型', '治療線別', '試驗名稱', '代號', '期別', '贊助商', '目標人數', '已收案', '當月簽署', '當月入案', '主持人', '研究護士', '電話', '狀態', '收案條件'];
            
            const csvContent = [
              headers.join(','),
              ...filteredTrials.map(trial => [
                trial.cancerType,
                trial.line,
                `"${trial.studyTitle.replace(/"/g, '""')}"`,
                trial.code,
                trial.phase,
                trial.sponsor,
                trial.targetNum,
                trial.enrolled,
                trial.monthSigned,
                trial.monthEnrolled,
                trial.pi,
                trial.nurse,
                trial.phone,
                trial.status,
                `"${trial.criteria.replace(/"/g, '""')}"`
              ].join(','))
            ].join('\n');

            const BOM = '\uFEFF';
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `臨床試驗列表_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
          };

          const generatePDF = () => {
            const printWindow = window.open('', '_blank');
            const htmlContent = `
              <!DOCTYPE html>
              <html>
                <head>
                  <meta charset="UTF-8">
                  <title>臨床試驗列表</title>
                  <style>
                    @page { size: A4 landscape; margin: 1cm; }
                    body { font-family: "Microsoft JhengHei", Arial, sans-serif; font-size: 9pt; }
                    h1 { text-align: center; color: #1e40af; margin-bottom: 20px; }
                    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
                    th { background-color: #1e40af; color: white; padding: 8px; text-align: left; font-weight: bold; border: 1px solid #ddd; }
                    td { padding: 6px; border: 1px solid #ddd; font-size: 8pt; }
                    tr:nth-child(even) { background-color: #f9fafb; }
                    .status-active { color: #059669; font-weight: bold; }
                    .status-paused { color: #d97706; font-weight: bold; }
                    .status-full { color: #dc2626; font-weight: bold; }
                    .header-info { text-align: center; margin-bottom: 15px; color: #64748b; }
                  </style>
                </head>
                <body>
                  <h1>臨床試驗管理列表</h1>
                  <div class="header-info">匯出日期: ${new Date().toLocaleDateString('zh-TW')} | 共 ${filteredTrials.length} 項試驗</div>
                  <table>
                    <thead>
                      <tr>
                        <th>癌症類型</th>
                        <th>線別</th>
                        <th>試驗名稱</th>
                        <th>代號</th>
                        <th>期別</th>
                        <th>贊助商</th>
                        <th>目標人數</th>
                        <th>已收案</th>
                        <th>主持人</th>
                        <th>護士</th>
                        <th>狀態</th>
                      </tr>
                    </thead>
                    <tbody>
                      ${filteredTrials.map(trial => `
                        <tr>
                          <td>${trial.cancerType}</td>
                          <td>${trial.line}</td>
                          <td style="max-width: 250px;">${trial.studyTitle}</td>
                          <td>${trial.code}</td>
                          <td>${trial.phase}</td>
                          <td>${trial.sponsor}</td>
                          <td>${trial.enrolled}/${trial.targetNum}</td>
                          <td>${trial.targetNum > 0 ? ((trial.enrolled/trial.targetNum)*100).toFixed(0) : 0}%</td>
                          <td>${trial.pi}</td>
                          <td>${trial.nurse}</td>
                          <td class="status-${trial.status === '進行中' ? 'active' : trial.status === '暫停收案' ? 'paused' : 'full'}">${trial.status}</td>
                        </tr>
                      `).join('')}
                    </tbody>
                  </table>
                </body>
              </html>
            `;
            
            printWindow.document.write(htmlContent);
            printWindow.document.close();
            printWindow.onload = () => {
              printWindow.print();
            };
          };

          if (!hasAccess) {
            return <AccessPasswordScreen onAccessGranted={() => setHasAccess(true)} />;
          }

          const cancerTypes = ['全部', '肝癌', '胃癌', '食道癌', '胰臟癌', '膽道癌', '大腸癌'];
          const lineTypes = ['全部', '一線', '二線', '三線', 'Adjuvant'];
          const statusTypes = ['全部', '進行中', '暫停收案', '名額已滿'];

          const getStatusColor = (status) => {
            switch (status) {
              case '進行中': return 'text-emerald-600 bg-emerald-50';
              case '暫停收案': return 'text-amber-600 bg-amber-50';
              case '名額已滿': return 'text-rose-600 bg-rose-50';
              default: return 'text-gray-600 bg-gray-50';
            }
          };

          const getStatusIcon = (status) => {
            switch (status) {
              case '進行中': return <CheckCircleIcon />;
              case '暫停收案': return <AlertCircleIcon />;
              case '名額已滿': return <XCircleIcon />;
              default: return null;
            }
          };

          if (loading) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center">
                <div className="text-center">
                  <div className="animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"></div>
                  <div className="text-2xl font-semibold text-slate-600">載入中...</div>
                </div>
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
              <header className="bg-white shadow-md border-b-4 border-blue-500">
                <div className="max-w-7xl mx-auto px-6 py-6">
                  <div className="flex justify-between items-center">
                    <div>
                      <div className="flex items-center gap-3">
                        <h1 className="text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                          臨床試驗管理系統
                        </h1>
                        <span className="px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full flex items-center gap-1">
                          <LockIcon className="w-3 h-3" />
                          已加密
                        </span>
                      </div>
                      <p className="text-slate-600 mt-2">Clinical Trials Management System - Secure Edition</p>
                    </div>
                    <div className="flex gap-3">
                      {isLoggedIn && (
                        <button
                          onClick={() => setShowAddModal(true)}
                          className="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-semibold"
                          title="新增臨床試驗"
                        >
                          <PlusIcon />
                          新增試驗
                        </button>
                      )}
                      {isLoggedIn ? (
                        <button
                          onClick={handleLogout}
                          className="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-xl hover:from-rose-600 hover:to-pink-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                        >
                          <LogoutIcon />
                          登出
                        </button>
                      ) : (
                        <button
                          onClick={() => setShowLoginModal(true)}
                          className="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                        >
                          <LoginIcon />
                          管理員登入
                        </button>
                      )}
                    </div>
                  </div>
                </div>
              </header>

              <div className="max-w-7xl mx-auto px-6 py-8">
                {/* 調試信息 - 開發時使用 */}
                {trials.length === 0 && !loading && (
                  <div className="mb-6 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-xl">
                    <h3 className="font-bold text-yellow-800 mb-2">⚠️ 調試信息</h3>
                    <div className="text-sm text-yellow-700 space-y-1">
                      <p>• 試驗數量: {trials.length}</p>
                      <p>• localStorage 可用: {typeof(Storage) !== "undefined" ? '✅ 是' : '❌ 否'}</p>
                      <p>• CryptoJS 載入: {typeof CryptoJS !== 'undefined' ? '✅ 是' : '❌ 否'}</p>
                      <p>• 初始數據: {initialTrials.length} 個試驗</p>
                      <div className="flex gap-2 mt-3">
                        <button
                          onClick={() => {
                            console.log('強制重新載入初始數據');
                            setTrials(initialTrials);
                            setFilteredTrials(initialTrials);
                          }}
                          className="px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700"
                        >
                          🔄 重新載入數據
                        </button>
                        <button
                          onClick={() => {
                            if (confirm('這將清除所有快取數據並重新整理頁面。確定要繼續嗎？')) {
                              localStorage.clear();
                              sessionStorage.clear();
                              location.reload(true);
                            }
                          }}
                          className="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
                        >
                          🗑️ 清除快取並重新載入
                        </button>
                      </div>
                    </div>
                  </div>
                )}

                {/* 版本更新提示 */}
                {trials.length > 0 && (
                  <div className="mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm">
                    <div className="flex items-center justify-between">
                      <span className="text-blue-700">
                        📌 版本: v2.0 | 最後更新: 2026-02-10 | 試驗總數: {trials.length}
                      </span>
                      <button
                        onClick={() => {
                          if (confirm('如果看到的數據不是最新的，請點擊確定清除快取。\n\n這將清除瀏覽器快取並重新載入最新版本。')) {
                            localStorage.clear();
                            sessionStorage.clear();
                            location.reload(true);
                          }
                        }}
                        className="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs"
                      >
                        🔄 更新到最新版
                      </button>
                    </div>
                  </div>
                )}

                <div className="bg-white rounded-2xl shadow-xl p-6 mb-8 border border-slate-200">
                  <div className="flex items-center gap-3 mb-6">
                    <FilterIcon />
                    <h2 className="text-2xl font-bold text-slate-800">篩選條件</h2>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div className="md:col-span-4">
                      <div className="relative">
                        <div className="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
                          <SearchIcon />
                        </div>
                        <input
                          type="text"
                          placeholder="搜尋試驗名稱、代號、贊助商、主持人、研究護士..."
                          value={searchTerm}
                          onChange={(e) => setSearchTerm(e.target.value)}
                          className="w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg"
                        />
                      </div>
                    </div>

                    <div>
                      <label className="block text-sm font-semibold text-slate-700 mb-2">癌症種類</label>
                      <select
                        value={selectedCancer}
                        onChange={(e) => setSelectedCancer(e.target.value)}
                        className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg font-medium"
                      >
                        {cancerTypes.map(type => (
                          <option key={type} value={type}>{type}</option>
                        ))}
                      </select>
                    </div>

                    <div>
                      <label className="block text-sm font-semibold text-slate-700 mb-2">治療線別</label>
                      <select
                        value={selectedLine}
                        onChange={(e) => setSelectedLine(e.target.value)}
                        className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg font-medium"
                      >
                        {lineTypes.map(type => (
                          <option key={type} value={type}>{type}</option>
                        ))}
                      </select>
                    </div>

                    <div>
                      <label className="block text-sm font-semibold text-slate-700 mb-2">收案狀態</label>
                      <select
                        value={selectedStatus}
                        onChange={(e) => setSelectedStatus(e.target.value)}
                        className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg font-medium"
                      >
                        {statusTypes.map(type => (
                          <option key={type} value={type}>{type}</option>
                        ))}
                      </select>
                    </div>
                  </div>
                </div>

                <div className="mb-6 flex items-center justify-between">
                  <p className="text-slate-600 text-lg">
                    共找到 <span className="font-bold text-blue-600 text-2xl">{filteredTrials.length}</span> 項試驗
                  </p>
                  <div className="flex gap-3">
                    <button
                      onClick={downloadCSV}
                      className="flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-semibold"
                      title="下載為Excel格式"
                    >
                      <DownloadIcon />
                      下載 Excel
                    </button>
                    <button
                      onClick={generatePDF}
                      className="flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-xl hover:from-red-600 hover:to-rose-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-semibold"
                      title="匯出為PDF"
                    >
                      <FileTextIcon />
                      匯出 PDF
                    </button>
                  </div>
                </div>

                <div className="space-y-6">
                  {filteredTrials.map(trial => (
                    <TrialCard
                      key={trial.id}
                      trial={trial}
                      isLoggedIn={isLoggedIn}
                      onEdit={handleEdit}
                      onDelete={handleDelete}
                      getStatusColor={getStatusColor}
                      getStatusIcon={getStatusIcon}
                      editingTrial={editingTrial}
                      setEditingTrial={setEditingTrial}
                      handleSaveEdit={handleSaveEdit}
                    />
                  ))}
                </div>

                {filteredTrials.length === 0 && (
                  <div className="text-center py-20">
                    <div className="text-6xl mb-4">🔍</div>
                    <p className="text-2xl text-slate-400 font-semibold">未找到符合條件的試驗</p>
                  </div>
                )}
              </div>

              {showLoginModal && (
                <LoginModal
                  username={username}
                  password={password}
                  setUsername={setUsername}
                  setPassword={setPassword}
                  onLogin={handleLogin}
                  onClose={() => setShowLoginModal(false)}
                />
              )}

              {showAddModal && (
                <AddTrialModal
                  onAdd={handleAdd}
                  onClose={() => setShowAddModal(false)}
                />
              )}
            </div>
          );
        }

        function TrialCard({ trial, isLoggedIn, onEdit, onDelete, getStatusColor, getStatusIcon, editingTrial, setEditingTrial, handleSaveEdit }) {
          const [expanded, setExpanded] = useState(false);
          const enrollmentPercentage = trial.targetNum > 0 ? (trial.enrolled / trial.targetNum * 100) : 0;

          if (editingTrial && editingTrial.id === trial.id) {
            return (
              <div className="bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-200">
                <EditTrialForm
                  trial={editingTrial}
                  setTrial={setEditingTrial}
                  onSave={handleSaveEdit}
                  onCancel={() => setEditingTrial(null)}
                />
              </div>
            );
          }

          return (
            <div className="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-slate-200 transform hover:-translate-y-1 fade-in">
              <div className="p-6">
                <div className="flex justify-between items-start mb-4">
                  <div className="flex-1">
                    <div className="flex items-center gap-3 mb-3">
                      <span className="px-4 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-500 text-white text-sm font-bold rounded-full shadow-md">
                        {trial.cancerType}
                      </span>
                      <span className="px-4 py-1.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-bold rounded-full shadow-md">
                        {trial.line}
                      </span>
                      <span className={`px-4 py-1.5 text-sm font-bold rounded-full flex items-center gap-1.5 shadow-md ${getStatusColor(trial.status)}`}>
                        {getStatusIcon(trial.status)}
                        {trial.status}
                      </span>
                    </div>
                    <h3 className="text-xl font-bold text-slate-800 mb-2 leading-relaxed">
                      {trial.studyTitle}
                    </h3>
                    <div className="flex items-center gap-6 text-sm text-slate-600">
                      <span className="font-semibold">代號: <span className="text-blue-600">{trial.code}</span></span>
                      <span className="font-semibold">期別: <span className="text-purple-600">Phase {trial.phase}</span></span>
                      <span className="font-semibold">贊助商: {trial.sponsor}</span>
                    </div>
                  </div>
                  {isLoggedIn && (
                    <div className="flex gap-2 ml-4">
                      <button
                        onClick={() => onEdit(trial)}
                        className="p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"
                        title="編輯"
                      >
                        <EditIcon />
                      </button>
                      <button
                        onClick={() => onDelete(trial.id)}
                        className="p-2.5 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors"
                        title="刪除"
                      >
                        <TrashIcon />
                      </button>
                    </div>
                  )}
                </div>

                <div className="mb-4">
                  <div className="flex justify-between text-sm mb-2">
                    <span className="font-semibold text-slate-700">收案進度</span>
                    <span className="font-bold text-blue-600">{trial.enrolled} / {trial.targetNum}</span>
                  </div>
                  <div className="h-3 bg-slate-200 rounded-full overflow-hidden">
                    <div
                      className="h-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all duration-500 rounded-full"
                      style={{ width: `${Math.min(enrollmentPercentage, 100)}%` }}
                    />
                  </div>
                  <div className="text-right text-xs text-slate-600 mt-1 font-medium">
                    {enrollmentPercentage.toFixed(1)}%
                  </div>
                </div>

                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
                  <InfoBox label="主持人" value={trial.pi} />
                  <InfoBox label="研究護士" value={trial.nurse} />
                  <InfoBox label="當月簽署" value={trial.monthSigned} />
                  <InfoBox label="當月入案" value={trial.monthEnrolled} />
                </div>

                {expanded && (
                  <div className="mt-4 p-4 bg-slate-50 rounded-xl border border-slate-200 space-y-3">
                    <div>
                      <h4 className="font-bold text-green-700 mb-2 flex items-center gap-2">
                        ✅ 收案條件
                      </h4>
                      <p className="text-slate-700 leading-relaxed whitespace-pre-wrap">{trial.inclusion || trial.criteria}</p>
                    </div>
                    
                    {trial.exclusion && (
                      <div className="mt-3 pt-3 border-t border-slate-300">
                        <h4 className="font-bold text-red-700 mb-2 flex items-center gap-2">
                          ❌ 排除條件
                        </h4>
                        <p className="text-slate-700 leading-relaxed whitespace-pre-wrap">{trial.exclusion}</p>
                      </div>
                    )}
                    
                    {trial.phone && (
                      <div className="mt-3 pt-3 border-t border-slate-300">
                        <p className="text-sm text-slate-600">
                          <span className="font-semibold">聯絡電話:</span> {trial.phone}
                        </p>
                      </div>
                    )}
                  </div>
                )}

                <button
                  onClick={() => setExpanded(!expanded)}
                  className="mt-4 text-blue-600 hover:text-blue-700 font-semibold text-sm transition-colors"
                >
                  {expanded ? '收起詳情 ▲' : '展開詳情 ▼'}
                </button>
              </div>
            </div>
          );
        }

        function InfoBox({ label, value }) {
          return (
            <div className="bg-gradient-to-br from-slate-50 to-blue-50 p-3 rounded-lg border border-slate-200">
              <div className="text-xs text-slate-600 font-semibold mb-1">{label}</div>
              <div className="text-lg font-bold text-slate-800">{value}</div>
            </div>
          );
        }

        function EditTrialForm({ trial, setTrial, onSave, onCancel }) {
          return (
            <div className="p-6 bg-gradient-to-br from-blue-50 to-indigo-50">
              <h3 className="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                <EditIcon />
                編輯試驗
              </h3>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <FormField label="試驗名稱" value={trial.studyTitle} onChange={(v) => setTrial({ ...trial, studyTitle: v })} />
                <FormField label="代號" value={trial.code} onChange={(v) => setTrial({ ...trial, code: v })} />
                <FormField label="癌症類型" value={trial.cancerType} onChange={(v) => setTrial({ ...trial, cancerType: v })} />
                <FormField label="治療線別" value={trial.line} onChange={(v) => setTrial({ ...trial, line: v })} />
                <FormField label="期別" value={trial.phase} onChange={(v) => setTrial({ ...trial, phase: v })} />
                <FormField label="贊助商" value={trial.sponsor} onChange={(v) => setTrial({ ...trial, sponsor: v })} />
                <FormField label="目標人數" type="number" value={trial.targetNum} onChange={(v) => setTrial({ ...trial, targetNum: parseInt(v) || 0 })} />
                <FormField label="已收案" type="number" value={trial.enrolled} onChange={(v) => setTrial({ ...trial, enrolled: parseInt(v) || 0 })} />
                <FormField label="當月簽署" type="number" value={trial.monthSigned} onChange={(v) => setTrial({ ...trial, monthSigned: parseInt(v) || 0 })} />
                <FormField label="當月入案" type="number" value={trial.monthEnrolled} onChange={(v) => setTrial({ ...trial, monthEnrolled: parseInt(v) || 0 })} />
                <FormField label="主持人" value={trial.pi} onChange={(v) => setTrial({ ...trial, pi: v })} />
                <FormField label="研究護士" value={trial.nurse} onChange={(v) => setTrial({ ...trial, nurse: v })} />
                <FormField label="電話" value={trial.phone} onChange={(v) => setTrial({ ...trial, phone: v })} />
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-2">狀態</label>
                  <select
                    value={trial.status}
                    onChange={(e) => setTrial({ ...trial, status: e.target.value })}
                    className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
                  >
                    <option value="進行中">進行中</option>
                    <option value="暫停收案">暫停收案</option>
                    <option value="名額已滿">名額已滿</option>
                  </select>
                </div>
              </div>
              <div className="mb-4 space-y-4">
                <div>
                  <label className="block text-sm font-semibold text-green-700 mb-2">✅ 收案條件</label>
                  <textarea
                    value={trial.inclusion || trial.criteria || ''}
                    onChange={(e) => setTrial({ ...trial, inclusion: e.target.value, criteria: e.target.value })}
                    className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
                    rows={4}
                    placeholder="請輸入收案條件..."
                  />
                </div>
                <div>
                  <label className="block text-sm font-semibold text-red-700 mb-2">❌ 排除條件</label>
                  <textarea
                    value={trial.exclusion || ''}
                    onChange={(e) => setTrial({ ...trial, exclusion: e.target.value })}
                    className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
                    rows={3}
                    placeholder="請輸入排除條件（可選）..."
                  />
                </div>
              </div>
              <div className="flex gap-3">
                <button
                  onClick={onSave}
                  className="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg font-semibold"
                >
                  <SaveIcon />
                  儲存
                </button>
                <button
                  onClick={onCancel}
                  className="flex items-center gap-2 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl hover:bg-slate-400 transition-all font-semibold"
                >
                  <XIcon />
                  取消
                </button>
              </div>
            </div>
          );
        }

        function FormField({ label, value, onChange, type = "text" }) {
          return (
            <div>
              <label className="block text-sm font-semibold text-slate-700 mb-2">{label}</label>
              <input
                type={type}
                value={value}
                onChange={(e) => onChange(e.target.value)}
                className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
              />
            </div>
          );
        }

        function LoginModal({ username, password, setUsername, setPassword, onLogin, onClose }) {
          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm">
              <div className="bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl">
                <h2 className="text-3xl font-bold text-slate-800 mb-6">管理員登入</h2>
                <div className="space-y-4 mb-6">
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">帳號</label>
                    <input
                      type="text"
                      value={username}
                      onChange={(e) => setUsername(e.target.value)}
                      className="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-blue-500 focus:outline-none"
                      placeholder="請輸入帳號"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">密碼</label>
                    <input
                      type="password"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && onLogin()}
                      className="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-blue-500 focus:outline-none"
                      placeholder="請輸入密碼"
                    />
                  </div>
                </div>
                <div className="flex gap-3">
                  <button
                    onClick={onLogin}
                    className="flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all shadow-lg font-semibold"
                  >
                    登入
                  </button>
                  <button
                    onClick={onClose}
                    className="flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl hover:bg-slate-400 transition-all font-semibold"
                  >
                    取消
                  </button>
                </div>
                <p className="text-sm text-slate-500 mt-4 text-center">
                  預設帳號: admin / 密碼: admin123
                </p>
              </div>
            </div>
          );
        }

        function AddTrialModal({ onAdd, onClose }) {
          const [newTrial, setNewTrial] = useState({
            cancerType: '胃癌',
            line: '一線',
            studyTitle: '',
            code: '',
            phase: 'III',
            sponsor: '',
            targetNum: 0,
            enrolled: 0,
            monthSigned: 0,
            monthEnrolled: 0,
            pi: '',
            nurse: '',
            phone: '',
            status: '進行中',
            criteria: ''
          });

          const handleSubmit = () => {
            if (!newTrial.studyTitle || !newTrial.code) {
              alert('請填寫試驗名稱和代號');
              return;
            }
            onAdd(newTrial);
          };

          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm overflow-y-auto">
              <div className="bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 my-8 shadow-2xl">
                <h2 className="text-3xl font-bold text-slate-800 mb-6">新增試驗</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 max-h-96 overflow-y-auto">
                  <FormField label="試驗名稱 *" value={newTrial.studyTitle} onChange={(v) => setNewTrial({ ...newTrial, studyTitle: v })} />
                  <FormField label="代號 *" value={newTrial.code} onChange={(v) => setNewTrial({ ...newTrial, code: v })} />
                  <FormField label="癌症類型" value={newTrial.cancerType} onChange={(v) => setNewTrial({ ...newTrial, cancerType: v })} />
                  <FormField label="治療線別" value={newTrial.line} onChange={(v) => setNewTrial({ ...newTrial, line: v })} />
                  <FormField label="期別" value={newTrial.phase} onChange={(v) => setNewTrial({ ...newTrial, phase: v })} />
                  <FormField label="贊助商" value={newTrial.sponsor} onChange={(v) => setNewTrial({ ...newTrial, sponsor: v })} />
                  <FormField label="目標人數" type="number" value={newTrial.targetNum} onChange={(v) => setNewTrial({ ...newTrial, targetNum: parseInt(v) || 0 })} />
                  <FormField label="已收案" type="number" value={newTrial.enrolled} onChange={(v) => setNewTrial({ ...newTrial, enrolled: parseInt(v) || 0 })} />
                  <FormField label="主持人" value={newTrial.pi} onChange={(v) => setNewTrial({ ...newTrial, pi: v })} />
                  <FormField label="研究護士" value={newTrial.nurse} onChange={(v) => setNewTrial({ ...newTrial, nurse: v })} />
                  <FormField label="電話" value={newTrial.phone} onChange={(v) => setNewTrial({ ...newTrial, phone: v })} />
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">狀態</label>
                    <select
                      value={newTrial.status}
                      onChange={(e) => setNewTrial({ ...newTrial, status: e.target.value })}
                      className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
                    >
                      <option value="進行中">進行中</option>
                      <option value="暫停收案">暫停收案</option>
                      <option value="名額已滿">名額已滿</option>
                    </select>
                  </div>
                </div>
                <div className="mb-6">
                  <label className="block text-sm font-semibold text-slate-700 mb-2">收案條件</label>
                  <textarea
                    value={newTrial.criteria}
                    onChange={(e) => setNewTrial({ ...newTrial, criteria: e.target.value })}
                    className="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none"
                    rows={4}
                  />
                </div>
                <div className="flex gap-3">
                  <button
                    onClick={handleSubmit}
                    className="flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg font-semibold"
                  >
                    <PlusIcon />
                    新增
                  </button>
                  <button
                    onClick={onClose}
                    className="flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl hover:bg-slate-400 transition-all font-semibold"
                  >
                    取消
                  </button>
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<ClinicalTrialsManager />, document.getElementById('app'));
    </script>
</body>
</html>
